from flask import Blueprint, Response, request
from app.utils.helpers import *
from app.config import settings
import xmltodict

router = Blueprint('wsdl', __name__, url_prefix='/wsdl')



@router.route('/product_data')
def wsdl_product_data():

    wsdl_dict = {'wsdl:definitions': {'@xmlns:wsdl': 'http://schemas.xmlsoap.org/wsdl/', '@xmlns:tns': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@xmlns:soap': 'http://schemas.xmlsoap.org/wsdl/soap/', '@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@xmlns:soapenc': 'http://schemas.xmlsoap.org/soap/encoding/', '@xmlns:ns': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/SharedObjects/', '@xmlns:ns1': 'http://www.codesynthesis.com/xmlns/xsstl', '@name': 'ProductData_v2_0_0', '@targetNamespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', 'wsdl:types': {'xsd:schema': [{'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@schemaLocation': product_data_GetProduct_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@schemaLocation': product_data_GetProduct_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@schemaLocation': product_data_GetProductDateModified_xsd_location}}, 
{'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@schemaLocation': product_data_GetProductDateModified_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@schemaLocation': product_data_GetProductCloseOut_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@schemaLocation': product_data_GetProductCloseOut_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@schemaLocation': product_data_GetProductSellable_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/ProductDataService/2.0.0/', '@schemaLocation': product_data_GetProductSellable_xsd_location}}]}, 'wsdl:message': [{'@name': 'GetProductRequestMessage', 'wsdl:part': {'@name': 'GetProductRequest', '@element': 'tns:GetProductRequest'}}, {'@name': 'GetProductResponseMessage', 'wsdl:part': {'@name': 'GetProductResponse', '@element': 'tns:GetProductResponse'}}, {'@name': 'GetProductDateModifiedRequestMessage', 'wsdl:part': {'@name': 'GetProductDateModifiedRequest', '@element': 'tns:GetProductDateModifiedRequest'}}, {'@name': 'GetProductDateModifiedResponseMessage', 'wsdl:part': {'@name': 'GetProductDateModifiedResponse', '@element': 'tns:GetProductDateModifiedResponse'}}, {'@name': 'GetProductCloseOutRequestMessage', 'wsdl:part': {'@name': 'GetProductCloseOutRequest', '@element': 'tns:GetProductCloseOutRequest'}}, {'@name': 'GetProductCloseOutResponseMessage', 'wsdl:part': {'@name': 'GetProductCloseOutResponse', '@element': 'tns:GetProductCloseOutResponse'}}, {'@name': 'GetProductSellableRequestMessage', 'wsdl:part': {'@name': 'GetProductSellableRequest', '@element': 'tns:GetProductSellableRequest'}}, {'@name': 'GetProductSellableResponseMessage', 'wsdl:part': {'@name': 'GetProductSellableResponse', '@element': 'tns:GetProductSellableResponse'}}], 'wsdl:portType': {'@name': 'ProductDataService', 'wsdl:operation': [{'@name': 'getProduct', 'wsdl:input': {'@message': 'tns:GetProductRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetProductResponseMessage'}}, {'@name': 'getProductDateModified', 'wsdl:input': {'@message': 'tns:GetProductDateModifiedRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetProductDateModifiedResponseMessage'}}, {'@name': 'getProductCloseOut', 'wsdl:input': {'@message': 'tns:GetProductCloseOutRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetProductCloseOutResponseMessage'}}, {'@name': 'getProductSellable', 'wsdl:input': {'@message': 'tns:GetProductSellableRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetProductSellableResponseMessage'}}]}, 'wsdl:binding': {'@name': 'ProductDataServiceBinding', '@type': 'tns:ProductDataService', 'soap:binding': {'@transport': 'http://schemas.xmlsoap.org/soap/http'}, 'wsdl:operation': 
[{'@name': 'getProduct', 'soap:operation': {'@soapAction': 'getProduct', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, {'@name': 'getProductSellable', 'soap:operation': {'@soapAction': 'getProductSellable', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, {'@name': 'getProductCloseOut', 'soap:operation': {'@soapAction': 'getProductCloseOut', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, 
{'@name': 'getProductDateModified', 'soap:operation': {'@soapAction': 'getProductDateModified', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 
'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}]}, 'wsdl:service': {'@name': 'ProductDataService', 'wsdl:port': {'@name': 'ProductDataServiceBinding', '@binding': 'tns:ProductDataServiceBinding', 'soap:address': {'@location': ''}}}}}


    wsdl_dict['wsdl:definitions']['wsdl:service']['wsdl:port']['soap:address']['@location'] =  f'{settings.service_location}/api/product_data'

    response_xml = xmltodict.unparse(wsdl_dict)

    response = Response(response_xml, content_type='text/xml')
    return response


@router.route('/inventory')
def wsdl_inventory():

    wsdl_dict = {'wsdl:definitions': {'@xmlns:wsdl': 'http://schemas.xmlsoap.org/wsdl/', '@xmlns:tns': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/', '@xmlns:soap': 'http://schemas.xmlsoap.org/wsdl/soap/', '@xmlns:ns': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/SharedObjects/', '@xmlns:ns1': 'http://www.codesynthesis.com/xmlns/xsstl', '@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@xmlns:soapenc': 'http://schemas.xmlsoap.org/soap/encoding/', '@name': 'Inventory_v2_0_0', '@targetNamespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/', 'wsdl:types': {'xsd:schema': [{'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@targetNamespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/GetFilterValuesRequest', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/', '@schemaLocation': inventory_getFilter_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@targetNamespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/GetFilterValuesResponse', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/', '@schemaLocation': inventory_getFilter_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@targetNamespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/GetInventoryLevelsRequest', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/', '@schemaLocation': 'GetInventoryLevelsRequest.xsd'}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@targetNamespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/GetInventoryLevelsResponse', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/Inventory/2.0.0/', '@schemaLocation': inventory_getInventoryLevels_xsd_location}}]}, 'wsdl:message': [{'@name': 'GetFilterValuesRequestMessage', 'wsdl:part': {'@name': 'GetFilterValuesRequest', '@element': 'tns:GetFilterValuesRequest'}}, {'@name': 'GetFilterValuesResponseMessage', 'wsdl:part': {'@name': 'GetFilterValuesResponse', '@element': 'tns:GetFilterValuesResponse'}}, {'@name': 'GetInventoryLevelsRequest', 'wsdl:part': {'@name': 'GetInventoryLevelsRequest', '@element': 'tns:GetInventoryLevelsRequest'}}, {'@name': 'GetInventoryLevelsResponse', 'wsdl:part': {'@name': 'GetInventoryLevelsResponse', '@element': 'tns:GetInventoryLevelsResponse'}}], 'wsdl:portType': {'@name': 'InventoryService', 'wsdl:operation': [{'@name': 'getFilterValues', 'wsdl:input': {'@message': 'tns:GetFilterValuesRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetFilterValuesResponseMessage'}}, {'@name': 'getInventoryLevels', 'wsdl:input': {'@message': 'tns:GetInventoryLevelsRequest'}, 'wsdl:output': {'@message': 'tns:GetInventoryLevelsResponse'}}]}, 'wsdl:binding': {'@name': 'InventoryServiceBindingV2', '@type': 'tns:InventoryService', 'soap:binding': {'@transport': 'http://schemas.xmlsoap.org/soap/http'}, 'wsdl:operation': [{'@name': 'getFilterValues', 'soap:operation': {'@soapAction': 'getFilterValues', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, {'@name': 'getInventoryLevels', 'soap:operation': {'@soapAction': 'getInventoryLevels', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}]}, 'wsdl:service': {'@name': 'InventoryServiceV2', 'wsdl:port': {'@name': 'InventoryServiceBinding', '@binding': 'tns:InventoryServiceBindingV2', 'soap:address': {'@location': ''}}}}}

    wsdl_dict['wsdl:definitions']['wsdl:service']['wsdl:port']['soap:address']['@location'] =  f'{settings.service_location}/api/inventory'

    response_xml = xmltodict.unparse(wsdl_dict)

    response = Response(response_xml, content_type='text/xml')
    return response

@router.route('/media_content')
def wsdl_media_content():
    wsdl_dict = {'wsdl:definitions': {'@xmlns:wsdl': 'http://schemas.xmlsoap.org/wsdl/', '@xmlns:tns': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/', '@xmlns:soap': 'http://schemas.xmlsoap.org/wsdl/soap/', '@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@xmlns:soapenc': 'http://schemas.xmlsoap.org/soap/encoding/', '@xmlns:ns': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/SharedObjects/', '@name': 'Media_v1_0_0', '@targetNamespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/', 'wsdl:types': {'xsd:schema': [{'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@targetNamespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/GetMediaContentRequest', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/', '@schemaLocation': media_content_GetMediaContent_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@targetNamespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/GetMediaContentResponse', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/', '@schemaLocation': media_content_GetMediaContent_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@targetNamespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/GetMediaDateModifiedRequest', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/', '@schemaLocation': media_content_GetDateModified_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@targetNamespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/GetMediaDateModifiedResponse', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/MediaService/1.0.0/', '@schemaLocation': media_content_GetDateModified_xsd_location}}]}, 'wsdl:message': [{'@name': 'GetMediaContentResponseMessage', 'wsdl:part': {'@name': 'GetMediaContentResponse', '@element': 'tns:GetMediaContentResponse'}}, {'@name': 'GetMediaContentRequestMessage', 'wsdl:part': {'@name': 'GetMediaContentRequest', '@element': 'tns:GetMediaContentRequest'}}, {'@name': 'GetMediaDateModifiedRequestMessage', 'wsdl:part': {'@name': 'parameter', '@element': 'tns:GetMediaDateModifiedRequest'}}, {'@name': 'GetMediaDateModifiedResponseMessage', 'wsdl:part': {'@name': 'parameter', '@element': 'tns:GetMediaDateModifiedResponse'}}], 'wsdl:portType': {'@name': 'MediaContentService', 'wsdl:operation': [{'@name': 'getMediaContent', 'wsdl:input': {'@message': 'tns:GetMediaContentRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetMediaContentResponseMessage'}}, {'@name': 'getMediaDateModified', 'wsdl:input': {'@message': 'tns:GetMediaDateModifiedRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetMediaDateModifiedResponseMessage'}}]}, 'wsdl:binding': {'@name': 'MediaContentServiceBinding', '@type': 'tns:MediaContentService', 'soap:binding': {'@transport': 'http://schemas.xmlsoap.org/soap/http'}, 'wsdl:operation': [{'@name': 'getMediaContent', 'soap:operation': {'@soapAction': 'getMediaContent', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, {'@name': 'getMediaDateModified', 'soap:operation': {'@soapAction': 'urn:getMediaDateModified', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}]}, 'wsdl:service': {'@name': 'MediaContentService', 'wsdl:port': {'@name': 'MediaContentServiceBinding', '@binding': 'tns:MediaContentServiceBinding', 'soap:address': {'@location': ''}}}}}

    wsdl_dict['wsdl:definitions']['wsdl:service']['wsdl:port']['soap:address']['@location'] =  f'{settings.service_location}/api/inventory'

    response_xml = xmltodict.unparse(wsdl_dict)

    response = Response(response_xml, content_type='text/xml')
    return response

@router.route('/ppc')
def wsdl_ppc():

    wsdl_dict = {'wsdl:definitions': {'@xmlns:wsdl': 'http://schemas.xmlsoap.org/wsdl/', '@xmlns:tns': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@xmlns:soap': 'http://schemas.xmlsoap.org/wsdl/soap/', '@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', '@xmlns:soapenc': 'http://schemas.xmlsoap.org/soap/encoding/', '@xmlns:ns': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/SharedObjects/', '@xmlns:ns1': 'http://www.codesynthesis.com/xmlns/xsstl', '@name': 'PricingAndConfiguration_v1_0_0', '@targetNamespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', 'wsdl:types': {'xsd:schema': [{'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetAvailableLocations_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetAvailableLocations_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetDecorationColor_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetDecorationColor_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetFobPoints_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetFobPoints_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetAvailableCharges_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetAvailableCharges_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetConfigurationAndPricing_xsd_location}}, {'@xmlns:xsd': 'http://www.w3.org/2001/XMLSchema', 'xsd:import': {'@namespace': 'http://www.promostandards.org/WSDL/PricingAndConfiguration/1.0.0/', '@schemaLocation': ppc_GetConfigurationAndPricing_xsd_location}}]}, 'wsdl:message': [{'@name': 'GetAvailableLocationsRequestMessage', 'wsdl:part': {'@name': 'GetAvailableLocationsRequest', '@element': 'tns:GetAvailableLocationsRequest'}}, {'@name': 'GetAvailableLocationsResponseMessage', 'wsdl:part': {'@name': 'GetAvailableLocationsResponse', '@element': 'tns:GetAvailableLocationsResponse'}}, {'@name': 
'GetDecorationColorsRequestMessage', 'wsdl:part': {'@name': 'GetDecorationColorsRequest', '@element': 'tns:GetDecorationColorsRequest'}}, {'@name': 'GetDecorationColorsResponseMessage', 'wsdl:part': {'@name': 'GetDecorationColorsResponse', '@element': 'tns:GetDecorationColorsResponse'}}, {'@name': 'GetFobPointsRequestMessage', 'wsdl:part': {'@name': 'GetFobPointsRequest', '@element': 'tns:GetFobPointsRequest'}}, {'@name': 'GetFobPointsResponseMessage', 'wsdl:part': {'@name': 'GetFobPointsResponse', '@element': 'tns:GetFobPointsResponse'}}, {'@name': 'GetAvailableChargesRequestMessage', 'wsdl:part': {'@name': 'GetAvailableChargesRequest', '@element': 'tns:GetAvailableChargesRequest'}}, {'@name': 'GetAvailableChargesResponseMessage', 'wsdl:part': {'@name': 'GetAvailableChargesResponse', '@element': 'tns:GetAvailableChargesResponse'}}, {'@name': 'GetConfigurationAndPricingRequestMessage', 'wsdl:part': {'@name': 'GetConfigurationAndPricingRequest', '@element': 'tns:GetConfigurationAndPricingRequest'}}, {'@name': 'GetConfigurationAndPricingResponseMessage', 'wsdl:part': {'@name': 'GetConfigurationAndPricingResponse', '@element': 'tns:GetConfigurationAndPricingResponse'}}], 'wsdl:portType': {'@name': 'PricingAndConfigurationService', 'wsdl:operation': [{'@name': 'getAvailableLocations', 'wsdl:input': {'@message': 'tns:GetAvailableLocationsRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetAvailableLocationsResponseMessage'}}, {'@name': 'getDecorationColors', 'wsdl:input': {'@message': 'tns:GetDecorationColorsRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetDecorationColorsResponseMessage'}}, {'@name': 'getFobPoints', 'wsdl:input': {'@message': 'tns:GetFobPointsRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetFobPointsResponseMessage'}}, {'@name': 'getAvailableCharges', 'wsdl:input': {'@message': 'tns:GetAvailableChargesRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetAvailableChargesResponseMessage'}}, {'@name': 'getConfigurationAndPricing', 'wsdl:input': {'@message': 'tns:GetConfigurationAndPricingRequestMessage'}, 'wsdl:output': {'@message': 'tns:GetConfigurationAndPricingResponseMessage'}}]}, 'wsdl:binding': {'@name': 'PricingAndConfigurationServiceBinding', '@type': 'tns:PricingAndConfigurationService', 'soap:binding': {'@transport': 'http://schemas.xmlsoap.org/soap/http'}, 'wsdl:operation': [{'@name': 'getAvailableLocations', 'soap:operation': {'@soapAction': 'getAvailableLocations', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, {'@name': 'getDecorationColors', 'soap:operation': {'@soapAction': 'getDecorationColors', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, {'@name': 'getFobPoints', 'soap:operation': {'@soapAction': 'getFobPoints', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, {'@name': 'getAvailableCharges', 'soap:operation': {'@soapAction': 'getAvailableCharges', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}, {'@name': 'getConfigurationAndPricing', 'soap:operation': {'@soapAction': 'getConfigurationAndPricing', '@style': 'document'}, 'wsdl:input': {'soap:body': {'@use': 'literal'}}, 'wsdl:output': {'soap:body': {'@use': 'literal'}}}]}, 'wsdl:service': {'@name': 'PricingAndConfigurationService', 'wsdl:port': {'@name': 'PricingAndConfigurationServiceBinding', '@binding': 'tns:PricingAndConfigurationServiceBinding', 'soap:address': {'@location': ''}}}}}

    wsdl_dict['wsdl:definitions']['wsdl:service']['wsdl:port']['soap:address']['@location'] =  f'{settings.service_location}/api/inventory'

    response_xml = xmltodict.unparse(wsdl_dict)

    response = Response(response_xml, content_type='text/xml')
    return response
